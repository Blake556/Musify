<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="favicon.ico?">
    <link rel="stylesheet" href="/css/style.css">
    <title>Musicfy</title>
</head>
<body>
    <div id="background">

        <h1 class='header'>Search Musify</h1>

        <form action="/" method="post">
            <div class="input-group mb-3 search-bar">
                <button class="btn btn-primary" type="submit" id="search" >Search</button>
                <input 
                    type="text" 
                    class="form-control search-bar" placeholder="Search song, artist, album" aria-label="Example text with button addon" aria-describedby="button-addon1" 
                    name="search" 
                    required
                    autocomplete="off"
                >
            </div>
        </form>
        
        <div class='results-container'>
            <!-- inside if statement allows a default Msg -->
            <% if (data && data.songsListed && data.songsListed.length > 0) { %>
                <h3 class='result-title'>Results</h3>
                <% for (let i = 0; i < data.songsListed.length; i++) { %>
                <div class='results'>
                    <p> <%= data.songsListed[i] || 'song' %> </p>
                    <span class='artist' ><%= data.artistsListed[i] || 'artist' %></span> | <span class='album' ><%= data.albumsListed[i] || 'album' %></span>
                </div>
                <% } %>
            <% } %>
        </div>

    </div>
</div>
</body>
</html>